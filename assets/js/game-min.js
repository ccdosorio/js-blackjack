const myModule=(()=>{"use strict";let e=[],t=["C","D","H","S"],a=["A","J","Q","K"],s=[],l=document.querySelector("#btnRequest"),r=document.querySelector("#btnNewGame"),d=document.querySelector("#btnStop"),n=document.querySelectorAll("small"),o=document.querySelectorAll(".player-hand"),i=(t=2)=>{e=c(),s=[];for(let a=0;a<t;a++)s.push(0);n.forEach(e=>e.innerText=0),o.forEach(e=>e.innerHTML=""),l.classList.remove("disabled-button"),d.classList.remove("disabled-button")},c=()=>{e=[];for(let s=2;s<=10;s++)for(let l of t)e.push(s+l);for(let r of t)for(let d of a)e.push(d+r);return _.shuffle(e)},u=()=>{if(0===e.length)throw"No hay cartas en el deck";return e.pop()},b=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:Number(t)},f=(e,t)=>(s[t]=s[t]+b(e),n[t].innerHTML=s[t],s[t]),h=(e,t)=>{let a=document.createElement("img");a.classList.add("card"),a.src=`assets/cards/${e}.png`,o[t].append(a)},L=()=>{let[e,t]=s;setTimeout(()=>{t===e?Swal.fire("Nadie gana :("):e>21?Swal.fire("Computadora gana!"):t>21?Swal.fire("Jugador gana!"):Swal.fire("Computadora gana!")},100)},p=e=>{let t=0;do{let a=u();t=f(a,s.length-1),h(a,s.length-1)}while(t<e&&e<=21);L()};return l.addEventListener("click",()=>{let e=u(),t=f(e,0);h(e,0),t>21?(console.warn("Lo siento mucho, perdiste!"),l.classList.add("disabled-button"),d.classList.add("disabled-button"),p(t)):21===t&&(console.warn("21, Genial!"),l.classList.add("disabled-button"),d.classList.add("disabled-button"),p(t))}),d.addEventListener("click",()=>{l.classList.add("disabled-button"),d.classList.add("disabled-button"),p(s[0])}),r.addEventListener("click",()=>{i()}),{newGame:i}})();